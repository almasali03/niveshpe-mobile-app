<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaction History - NiveshPe</title>

    <!-- Meta Tags for Social Sharing -->
    <meta name="description" content="View your complete transaction history - SIPs, withdrawals, lumpsum investments and more on NiveshPe">
    <meta name="keywords" content="transaction history, SIP, investment, mutual funds, NiveshPe">
    <meta name="author" content="NiveshPe">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/my-funds.css">
    <link rel="stylesheet" href="assets/css/iphone-toggle.css">
</head>
<body>
    <!-- Frame Toggle Button -->
    <button class="frame-toggle-btn" id="frameToggleBtn" onclick="toggleFrameMode()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z"/>
        </svg>
        <span id="frameToggleText">Normal View</span>
    </button>


    <div class="app-container">
        <div class="iphone-frame">
        <!-- iPhone Notch (Dynamic Island style) -->
        <div class="iphone-notch"></div>


            <div class="iphone-screen">
                <div class="mobile-container">
                    <!-- Status Bar -->
                <div class="status-bar">
                    <div class="status-left">
                        <span class="time">9:41</span>
                    </div>
                    <div class="status-right">
                        <span class="battery">87%</span>
                        <div class="signal-bars">
                            <div class="bar"></div>
                            <div class="bar"></div>
                            <div class="bar"></div>
                        </div>
                    </div>
                </div>

                <!-- Header -->
                <div class="header">
                    <div class="header-spacer"></div>
                    <div class="header-title">Transaction History</div>
                    <div class="header-actions">
                        <button class="icon-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Scrollable Content -->
                <div class="scroll-content">
                    <div class="transactions-page">
                            <!-- Filter Tags -->
                            <div class="filter-container">
                                <div class="filter-tags">
                                    <button class="filter-tag active" data-filter="all">All</button>
                                    <button class="filter-tag" data-filter="sip">SIPs</button>
                                    <button class="filter-tag" data-filter="lumpsum">Lumpsum</button>
                                    <button class="filter-tag" data-filter="withdrawal">Withdrawals</button>
                                    <button class="filter-tag" data-filter="dividend">Dividends</button>
                                </div>
                            </div>

                            <!-- Transactions List -->
                            <div class="transactions-card">
                            <!-- Recent Section -->
                            <div class="transaction-group">
                                <div class="group-header">Today</div>

                                <div class="transaction-item" data-type="sip" onclick="openTransactionDetail('sip', '1500', 'Monthly SIP: HDFC Liquid Fund', 'Today • 09:30 AM')">
                                    <div class="transaction-icon credit">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M7 14l5-5 5 5H7z"/>
                                        </svg>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">Monthly SIP: HDFC Liquid Fund</div>
                                        <div class="transaction-subtitle">Today • 09:30 AM</div>
                                    </div>
                                    <div class="transaction-amount credit">+₹1,500</div>
                                </div>

                                <div class="transaction-item" data-type="dividend" onclick="openTransactionDetail('dividend', '101', 'Dividend: SBI Contra Fund', 'Today • 02:15 PM')">
                                    <div class="transaction-icon credit">
                                        <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_146_3265)">
                                                <path d="M15 9.8999V17.3999H3V9.8999" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M16.5 6.1499H1.5V9.8999H16.5V6.1499Z" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M9 17.3999V6.1499" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M9 6.1499H5.625C5.12772 6.1499 4.65081 5.95236 4.29917 5.60073C3.94754 5.2491 3.75 4.77218 3.75 4.2749C3.75 3.77762 3.94754 3.30071 4.29917 2.94908C4.65081 2.59745 5.12772 2.3999 5.625 2.3999C8.25 2.3999 9 6.1499 9 6.1499Z" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M9 6.1499H12.375C12.8723 6.1499 13.3492 5.95236 13.7008 5.60073C14.0525 5.2491 14.25 4.77218 14.25 4.2749C14.25 3.77762 14.0525 3.30071 13.7008 2.94908C13.3492 2.59745 12.8723 2.3999 12.375 2.3999C9.75 2.3999 9 6.1499 9 6.1499Z" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </g>
                                        </svg>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">Dividend: SBI Contra Fund</div>
                                        <div class="transaction-subtitle">Today • 02:15 PM</div>
                                    </div>
                                    <div class="transaction-amount credit">+₹101</div>
                                </div>
                            </div>

                            <!-- Yesterday Section -->
                            <div class="transaction-group">
                                <div class="group-header">Yesterday</div>

                                <div class="transaction-item" data-type="withdrawal" onclick="openTransactionDetail('withdrawal', '1000', 'Emergency Fund Goal', 'Nov 6, 2024 • 11:45 AM')">
                                    <div class="transaction-icon debit">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M17 14l-5 5-5-5h10z"/>
                                        </svg>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">Emergency Fund Goal</div>
                                        <div class="transaction-subtitle">Nov 6, 2024 • 11:45 AM</div>
                                    </div>
                                    <div class="transaction-amount debit">-₹1,000</div>
                                </div>

                                <div class="transaction-item" data-type="lumpsum" onclick="openTransactionDetail('lumpsum', '5000', 'One Time: Axis Midcap Fund', 'Nov 6, 2024 • 05:30 PM')">
                                    <div class="transaction-icon credit">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M7 14l5-5 5 5H7z"/>
                                        </svg>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">One Time: Axis Midcap Fund</div>
                                        <div class="transaction-subtitle">Nov 6, 2024 • 05:30 PM</div>
                                    </div>
                                    <div class="transaction-amount credit">+₹5,000</div>
                                </div>
                            </div>

                            <!-- This Week Section -->
                            <div class="transaction-group">
                                <div class="group-header">This Week</div>

                                <div class="transaction-item" data-type="sip" onclick="openTransactionDetail('sip', '500', 'Weekly SIP: SBI Hybrid Fund', 'Nov 4, 2024 • 12:00 PM')">
                                    <div class="transaction-icon credit">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M7 14l5-5 5 5H7z"/>
                                        </svg>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">Weekly SIP: SBI Hybrid Fund</div>
                                        <div class="transaction-subtitle">Nov 4, 2024 • 12:00 PM</div>
                                    </div>
                                    <div class="transaction-amount credit">+₹500</div>
                                </div>

                                <div class="transaction-item" data-type="withdrawal" onclick="openTransactionDetail('withdrawal', '2500', 'Partial Withdrawal: HDFC Liquid Fund', 'Nov 3, 2024 • 02:20 PM')">
                                    <div class="transaction-icon debit">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M17 14l-5 5-5-5h10z"/>
                                        </svg>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">Partial Withdrawal: HDFC Liquid Fund</div>
                                        <div class="transaction-subtitle">Nov 3, 2024 • 02:20 PM</div>
                                    </div>
                                    <div class="transaction-amount debit">-₹2,500</div>
                                </div>

                                <div class="transaction-item" data-type="lumpsum" onclick="openTransactionDetail('lumpsum', '10000', 'One Time: ICICI Prudential ELSS', 'Nov 2, 2024 • 10:15 AM')">
                                    <div class="transaction-icon credit">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M7 14l5-5 5 5H7z"/>
                                        </svg>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">One Time: ICICI Prudential ELSS</div>
                                        <div class="transaction-subtitle">Nov 2, 2024 • 10:15 AM</div>
                                    </div>
                                    <div class="transaction-amount credit">+₹10,000</div>
                                </div>
                            </div>

                            <!-- Last Month Section -->
                            <div class="transaction-group">
                                <div class="group-header">October 2024</div>

                                <div class="transaction-item" data-type="sip" onclick="openTransactionDetail('sip', '3000', 'Monthly SIP: SBI Small Cap Fund', 'Oct 30, 2024 • 09:30 AM')">
                                    <div class="transaction-icon credit">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M7 14l5-5 5 5H7z"/>
                                        </svg>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">Monthly SIP: SBI Small Cap Fund</div>
                                        <div class="transaction-subtitle">Oct 30, 2024 • 09:30 AM</div>
                                    </div>
                                    <div class="transaction-amount credit">+₹3,000</div>
                                </div>

                                <div class="transaction-item" data-type="dividend" onclick="openTransactionDetail('dividend', '250', 'Dividend: Axis Midcap Fund', 'Oct 28, 2024 • 03:45 PM')">
                                    <div class="transaction-icon credit">
                                        <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_146_3265)">
                                                <path d="M15 9.8999V17.3999H3V9.8999" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M16.5 6.1499H1.5V9.8999H16.5V6.1499Z" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M9 17.3999V6.1499" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M9 6.1499H5.625C5.12772 6.1499 4.65081 5.95236 4.29917 5.60073C3.94754 5.2491 3.75 4.77218 3.75 4.2749C3.75 3.77762 3.94754 3.30071 4.29917 2.94908C4.65081 2.59745 5.12772 2.3999 5.625 2.3999C8.25 2.3999 9 6.1499 9 6.1499Z" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M9 6.1499H12.375C12.8723 6.1499 13.3492 5.95236 13.7008 5.60073C14.0525 5.2491 14.25 4.77218 14.25 4.2749C14.25 3.77762 14.0525 3.30071 13.7008 2.94908C13.3492 2.59745 12.8723 2.3999 12.375 2.3999C9.75 2.3999 9 6.1499 9 6.1499Z" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </g>
                                        </svg>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">Dividend: Axis Midcap Fund</div>
                                        <div class="transaction-subtitle">Oct 28, 2024 • 03:45 PM</div>
                                    </div>
                                    <div class="transaction-amount credit">+₹250</div>
                                </div>

                                <div class="transaction-item" data-type="withdrawal" onclick="openTransactionDetail('withdrawal', '15000', 'Full Withdrawal: HDFC Liquid Fund', 'Oct 25, 2024 • 11:30 AM')">
                                    <div class="transaction-icon debit">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M17 14l-5 5-5-5h10z"/>
                                        </svg>
                                    </div>
                                    <div class="transaction-details">
                                        <div class="transaction-title">Full Withdrawal: HDFC Liquid Fund</div>
                                        <div class="transaction-subtitle">Oct 25, 2024 • 11:30 AM</div>
                                    </div>
                                    <div class="transaction-amount debit">-₹15,000</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Bottom Navigation -->
                <nav class="bottom-nav">
                    <a href="index.html" class="nav-item">
                        <div class="nav-icon">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                            </svg>
                        </div>
                        <span class="nav-label">Home</span>
                    </a>
                    <a href="my-funds.html" class="nav-item">
                        <div class="nav-icon">
                            <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21.0273 13.375C21.3789 13.375 21.6602 13.6914 21.5898 14.0078C21.3438 15.9766 20.3945 17.6992 19.0234 18.9648C18.8125 19.1758 18.4609 19.1758 18.25 18.9648L12.6953 13.375H21.0273ZM20.4648 11.125C20.5 11.4414 20.2188 11.6875 19.9023 11.6875H12.0625V3.84766C12.0625 3.53125 12.3086 3.25 12.625 3.28516C16.8438 3.56641 20.1836 6.90625 20.4648 11.125ZM10.375 13.375L15.8242 18.8594C16.0703 19.1055 16.0703 19.5273 15.7891 19.7031C14.4531 20.6875 12.8008 21.25 11.043 21.25C6.50781 21.3203 2.64062 17.6289 2.5 13.1289C2.32422 8.73438 5.52344 5.07812 9.74219 4.48047C10.0586 4.44531 10.375 4.72656 10.375 5.04297V13.375Z" fill="currentColor"/>
                            </svg>
                        </div>
                        <span class="nav-label">My Funds</span>
                    </a>
                    <a href="mutual-funds.html" class="nav-item">
                        <div class="nav-icon">
                            <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.5 20V10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M18.5 20V4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M6.5 20V16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <span class="nav-label">Mutual Funds</span>
                    </a>
                    <a href="transaction-history.html" class="nav-item active">
                        <div class="nav-icon">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z"/>
                            </svg>
                        </div>
                        <span class="nav-label">History</span>
                    </a>
                </nav>
                </div>
            </div>
        </div>
        <!-- iPhone Home Indicator -->
        <div class="iphone-home-indicator"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Filter functionality
            const filterTags = document.querySelectorAll('.filter-tag');
            const transactionItems = document.querySelectorAll('.transaction-item');

            filterTags.forEach(tag => {
                tag.addEventListener('click', function() {
                    // Remove active class from all tags
                    filterTags.forEach(t => t.classList.remove('active'));
                    // Add active class to clicked tag
                    this.classList.add('active');

                    const filter = this.getAttribute('data-filter');

                    // Show/hide transactions based on filter
                    transactionItems.forEach(item => {
                        const itemType = item.getAttribute('data-type');

                        if (filter === 'all' || itemType === filter) {
                            item.style.display = 'flex';
                        } else {
                            item.style.display = 'none';
                        }
                    });

                    // Hide/show group headers if no transactions visible
                    const transactionGroups = document.querySelectorAll('.transaction-group');
                    transactionGroups.forEach(group => {
                        const visibleItems = group.querySelectorAll('.transaction-item[style="display: flex"], .transaction-item:not([style*="display: none"])');
                        const groupHeader = group.querySelector('.group-header');

                        if (filter === 'all' || visibleItems.length > 0) {
                            groupHeader.style.display = 'block';
                        } else {
                            groupHeader.style.display = 'none';
                        }
                    });
                });
            });

            // Mobile touch interactions
            document.querySelectorAll('.transaction-item, .filter-tag').forEach(item => {
                item.addEventListener('touchstart', function(e) {
                    this.style.transition = 'transform 0.1s ease';
                    this.style.transform = 'scale(0.95)';
                });

                item.addEventListener('touchend', function(e) {
                    setTimeout(() => {
                        this.style.transform = '';
                        this.style.transition = 'all 0.2s ease';
                    }, 100);
                });
            });
        });

        // Function to open transaction detail page
        function openTransactionDetail(type, amount, title, date) {
            const encodedTitle = encodeURIComponent(title);
            const encodedDate = encodeURIComponent(date);

            if (type === 'withdrawal') {
                // Use separate withdrawal detail page
                window.location.href = `withdrawal-detail.html?amount=${amount}&title=${encodedTitle}&date=${encodedDate}`;
            } else {
                // Use investment detail page for SIP, lumpsum, dividend
                window.location.href = `transaction-detail.html?type=${type}&amount=${amount}&title=${encodedTitle}&date=${encodedDate}`;
            }
        }
    </script>
    <script src="assets/js/iphone-toggle.js"></script>
</body>
</html>